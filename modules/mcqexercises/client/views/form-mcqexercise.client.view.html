<section>
    <div class="page-header">
        <h1>{{vm.mcqexercise._id ? 'Edit Mcq Exercise' : 'New Mcq Exercise'}}</h1>
    </div>
    <div class="col-md-12">
        <ul class="nav nav-pills" role="tablist">
            <li role="presentation" class="active"><a href="#generaldetails" aria-controls="generaldetails" role="tab" data-toggle="tab">General Details</a></li>
            <li role="presentation"><a href="#questions" aria-controls="schoolcalendar" role="tab" data-toggle="tab">Questions</a></li>
        </ul>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="generaldetails">
                <form name="vm.form.mcqexerciseForm" class="form-horizontal" ng-submit="vm.save(vm.form.mcqexerciseForm.$valid)" novalidate>
                    <fieldset>
                        <div class="form-group" show-errors>
                            <label class="control-label" for="title">Exercise Title</label>
                            <input name="name" type="text" ng-model="vm.mcqexercise.title" id="title" class="form-control" placeholder="Name" required>
                            <div ng-messages="vm.form.mcqexerciseForm.title.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Mcqexercise title is required.</p>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label class="control-label" for="subject">Subject</label>
                            <input name="subject" type="text" ng-model="vm.mcqexercise.subject" id="title" class="form-control" placeholder="subject" required>
                            <div ng-messages="vm.form.mcqexerciseForm.subject.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Mcqexercise subject is required.</p>
                            </div>
                        </div>
                        <div class="form-group" show-errors>
                            <label class="control-label" for="subject">Level</label>
                            <input name="studentlevel" type="text" ng-model="vm.mcqexercise.studentlevel" id="title" class="form-control" placeholder="studentlevel" required>
                            <div ng-messages="vm.form.mcqexerciseForm.studentlevel.$error" role="alert">
                                <p class="help-block error-text" ng-message="required">Mcqexercise studentlevel is required.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-default">{{vm.mcqexercise._id ? 'Update' : 'Create'}}</button>
                        </div>
                        <div ng-show="vm.error" class="text-danger">
                            <strong ng-bind="vm.error"></strong>
                        </div>
                    </fieldset>
                </form>
            </div>

            <div role="tabpanel" class="tab-pane" id="questions">
                Questions {{vm.mcqexercise.questions ? vm.mcqexercise.questions.length : 0}} <button class="btn btn-primary" ng-click="vm.createQuestion('lg');">Add New</button>

                <div>
                    <table st-table="rowCollection" class="table table-striped">
                        <thead>
                            <tr>
                                <th>Number</th>
                                <th>Question</th>
                                <th>Choices</th>
                                <th>Answers</th>
                                <th>Actions</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in vm.mcqexercise.questions">
                                <td>{{row.questionnumber}}</td>
                                <td>{{row.questiontext}}</td>
                                <td>{{row.possibleanswers ? row.possibleanswers.length : 0}}</td>
                                <td>{{row.answers}}</td>
                                <td>

                                    <button class="btn btn-primary" ng-click="vm.question=row;vm.openQuestionModal('lg', row);">View</button><button style="padding-right:10px;" class="btn btn-danger" ng-click="vm.question=row;vm.confirmDeleteQuestion('md',row);">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>




            </div>
        </div>

    </div>
</section>